import{b as x,A as Y,d as B,i as z,e as O,Q as w,Z as W,k as H,j as e,c as l,f as $,R as K,a as m,D as te,l as ae,W as de,v as P,F as J,m as X,n as g,P as oe,u as re,M as ne,O as le,V as me,S as ue,N as pe,_ as he}from"./B7DAq_4k.js";import{R as xe}from"./P0sdvjL8.js";import{c as je,d as Ne,e as ve,f as fe}from"./BRwh3y8v.js";import{a as Se,b as ye,c as be,d as Ce}from"./hUW0gmcn.js";import{c as we}from"./jgNAs1tW.js";import{u as Z}from"./f4lojql9.js";import{C as Ee}from"./DqT24KQI.js";import{Y as ie}from"./BQMOT6f8.js";const Ue="QVFkvkDTCHA-",_e="gVTh-9UPVv0-",qe="qr-yN9diTK0-",Fe="Ky190xuJSU8-",Ae="qEPkxEbmY80-",De="yTJd03xNQ4Y-",Te="SfkKwT8j19o-",s={"create-view-exam-container":"Fkvr3lxG-CQ-",hide:Ue,"create-view-exam-form":"-EDV7NgKk6Q-",header:_e,title:qe,"esc-button":"kGdWs-PZlDU-","form-content":"F9vIRZKmv-s-","form-data":"Lzp6LCdoveo-","group-inputs":"h-a6qwx-9Q0-","wrap-item":"SVQVuKSpuCo-",textarea:Fe,"input-item":"b8P0mcJ3c0c-",required:Ae,error:De,"custom-select":"WZOAHvgx-FM-","data-container":"tMiqlaFO6Dc-","joined-supervisors-container":"aUK-3lperUI-","joined-supervisor":"ShMWZThbsDU-","all-supervisor-conatiner":"e7gnmZdylbc-",card:Te,"card-left":"GvHMcgs-xsQ-","action-items":"ipU0TscZMiY-"};function Pe({courseDetail:j,onMutateSuccess:y,setShowPopUp:M}){const[u,q]=x.useState(!0),[A,U]=x.useState(0),[b,D]=x.useState([]),[E,Q]=x.useState(""),F=Z(E,Y),n=B("component.create_exam"),a=z(),t=()=>{q(!0),setTimeout(()=>{M(!1)},X.TRANSITION_TIMING_FAST)},_=g(s),p=O({queryKey:[w.PAGE_SUBJECT,{id:j.subjectId}],queryFn:()=>we(j.subjectId)}),N=O({queryKey:[w.ALL_TEACHER,{search:F}],queryFn:()=>W("teacher",F)}),h=async i=>{var L;i.preventDefault(),(L=document.querySelector(`.${s["form-data"]}`))==null||L.querySelectorAll("input[name]").forEach(c=>{var S;c.classList.remove("error"),(S=_.getParentElement(c))==null||S.removeAttribute("data-error")});const r=i.target,v=new FormData(r);b.forEach(c=>{v.append("supervisor_ids[]",String(c.id))}),await Se(v),t()},{mutate:T,isPending:I}=H({mutationFn:h,onError:i=>{_.showFormError(i)},onSuccess:y});return x.useEffect(()=>(q(!1),()=>{a.removeQueries({queryKey:[w.ALL_TEACHER]})}),[a]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:l(s["create-view-exam-container"],u?s.hide:""),children:[p.isLoading?e.jsx($,{}):null,I?e.jsx($,{}):null,e.jsxs("div",{className:l(s["create-view-exam-form"],u?s.hide:""),children:[e.jsxs("div",{className:s.header,children:[e.jsx("h2",{className:s.title,children:n==null?void 0:n.create}),e.jsx("div",{className:s["esc-button"],onClick:t,children:e.jsx(K,{})})]}),e.jsx("div",{className:s["form-content"],children:e.jsxs("form",{onSubmit:i=>{T(i)},className:s["form-data"],children:[e.jsx("input",{hidden:!0,readOnly:!0,name:"course_id",value:j.id}),e.jsxs("div",{className:s["group-inputs"],children:[e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{className:s.required,htmlFor:"name",children:n==null?void 0:n.name}),e.jsx("input",{id:"name",name:"name",className:l(m["input-d"],s["input-item"]),type:"text"})]}),e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{className:s.required,htmlFor:"exam_date",children:n==null?void 0:n.examDate}),e.jsx(te,{initialValue:new Date,renderMonth:ae,inputProps:{id:"exam_date",name:"exam_date",className:l(m["input-d"],s["input-item"])},closeOnSelect:!0,timeFormat:!0})]}),e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{className:s.required,htmlFor:"exam_time",children:n==null?void 0:n.examTime}),e.jsx("input",{onBeforeInput:i=>{i.data==="."&&i.preventDefault()},id:"exam_time",name:"exam_time",min:0,max:60*60*24,className:l(m["input-d"],s["input-item"]),type:"number"})]}),p.data?e.jsxs(e.Fragment,{children:[p.data.chapters.sort((i,r)=>i.chapterNumber-r.chapterNumber).map(i=>{const r=`chapter-${i.id}`;return e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{htmlFor:r,children:`${i.chapterNumber}. ${i.name} (${i.questionsCount} ${n==null?void 0:n.questions})`}),e.jsx("input",{id:r,onInput:v=>{v.currentTarget.valueAsNumber>i.questionsCount&&de.error(n==null?void 0:n.maxChapterQuestionCount.replace("@name",`${i.chapterNumber}. ${i.name}`).replace("@questionNumber",String(i.questionsCount)));const c=Array.from(document.querySelectorAll('input[name="question_counts[]"]')).reduce((S,C)=>C.valueAsNumber?S+=C.valueAsNumber:S,0);U(c)},name:"question_counts[]",onBeforeInput:v=>{v.data==="."&&v.preventDefault()},className:l(m["input-d"],s["input-item"]),type:"number",min:0})]},r)}),e.jsx("div",{className:s["wrap-item"],children:e.jsxs("span",{children:[n==null?void 0:n.totalQuestions,": ",A]})}),e.jsxs("div",{className:l(s["wrap-item"],s["data-container"]),children:[e.jsx("label",{children:n==null?void 0:n.supervisors}),e.jsx("input",{placeholder:n==null?void 0:n.search,onInput:i=>{Q(i.currentTarget.value)},className:l(m["input-d"],s["input-item"]),type:"text"}),e.jsx("label",{children:n==null?void 0:n.joinedSupervisors}),e.jsx("ul",{className:s["joined-supervisors-container"],children:b.map((i,r)=>e.jsx("li",{className:s["joined-supervisor"],children:e.jsxs("div",{children:[e.jsx("span",{children:P.getFullName(i.firstName,i.lastName)}),e.jsx("span",{style:{height:"20px"},onClick:()=>{const v=structuredClone(b);v.splice(r,1),D(v)},children:e.jsx(K,{})})]})},`joined-supervisor-${i.id}`))}),e.jsx("label",{children:n==null?void 0:n.allSupervisors}),e.jsx("ul",{className:s["all-supervisor-conatiner"],children:N.data?N.data.filter(i=>!b.find(r=>r.id===i.id)).map(i=>{var r;return e.jsx("li",{onClick:()=>{const v=structuredClone(b);v.push(i),D(v)},className:l(m["dashboard-card-d"],s.card),children:e.jsxs("div",{className:s["card-left"],children:[e.jsx("span",{children:P.getFullName(i.firstName,i.lastName)}),e.jsx("span",{children:(r=i.faculty)==null?void 0:r.name})]})},`user-${i.id}`)}):null})]})]}):null]}),e.jsx("div",{className:s["action-items"],children:e.jsxs("button",{name:"save",className:l(m["action-item-d"],I?"button-submitting":""),children:[e.jsx(J,{}),n==null?void 0:n.save]})})]})})]})]})})}const Qe="_2VCLiYslkl8-",Ie="_2FH2fM1bynA-",Le="_7iQUR2uPJao-",Me="QeqKgcYxExQ-",f={"update-course-students-container":"ZbhEbMSQJvo-",hide:Qe,"update-course-students-form":"_2xKuqaYcdeU-",header:Ie,title:Le,"esc-button":"GokNoUYGS1Q-","form-content":"Mj7OYlVHzNY-","input-item":"Oe-dAELXSjg-","wrap-data-container":"-j8h--TizUk-","data-container":"C3skA9FhOmQ-","joined-students-container":"Tq5mDGmUz-U-","joined-student":"aL76spFtpJo-","all-student-conatiner":"_9WjGXOceV5A-",card:Me,"card-left":"_4oSAbkqj-NQ-","action-items":"wzz7XcncJaE-"};function ke({courseDetail:j,onMutateSuccess:y,setShowPopUp:M}){const u=B("component.update_course_students"),[q,A]=x.useState(!0),[U,b]=x.useState(""),D=Z(U,Y),[E,Q]=x.useState(j.enrollments.map(p=>p.user)),F=()=>{A(!0),setTimeout(()=>{M(!1)},X.TRANSITION_TIMING_FAST)},n=async()=>{const p=E.map(N=>N.id);await je(p,j.id)},a=O({queryKey:[w.ALL_STUDENT,{search:D}],queryFn:()=>W("student",D)}),{mutate:t,isPending:_}=H({mutationFn:n,onSuccess:y});return x.useEffect(()=>{A(!1)},[]),e.jsxs("div",{className:l(f["update-course-students-container"],q?f.hide:""),children:[_?e.jsx($,{}):null,e.jsxs("div",{className:l(f["update-course-students-form"],q?f.hide:""),children:[e.jsxs("div",{className:f.header,children:[e.jsx("h2",{className:f.title,children:u==null?void 0:u.title}),e.jsx("div",{className:f["esc-button"],onClick:F,children:e.jsx(K,{})})]}),e.jsxs("div",{className:f["form-content"],children:[e.jsx("input",{placeholder:u==null?void 0:u.search,onInput:p=>{b(p.currentTarget.value)},className:l(m["input-d"],f["input-item"]),type:"text"}),e.jsx("div",{className:f["wrap-data-container"],children:e.jsxs("div",{className:f["data-container"],children:[e.jsx("label",{children:u==null?void 0:u.joinedStudents}),e.jsx("ul",{className:f["joined-students-container"],children:E.map((p,N)=>{var h;return e.jsx("li",{className:f["joined-student"],children:e.jsxs("div",{children:[e.jsx("span",{children:P.getFullName(p.firstName,p.lastName)}),e.jsx("span",{children:(h=p.schoolClass)==null?void 0:h.shortcode}),e.jsx("span",{style:{height:"20px"},onClick:()=>{const T=structuredClone(E);T.splice(N,1),Q(T)},children:e.jsx(K,{})})]})},`joined-student-${p.id}`)})}),e.jsx("label",{children:u==null?void 0:u.allStudents}),e.jsx("ul",{className:f["all-student-conatiner"],children:a.data?a.data.filter(p=>!E.find(N=>N.id===p.id)).map(p=>{var N;return e.jsx("li",{onClick:()=>{const h=structuredClone(E);h.push(p),Q(h)},className:l(m["dashboard-card-d"],f.card),children:e.jsxs("div",{className:f["card-left"],children:[e.jsx(oe,{}),e.jsx("span",{children:P.getFullName(p.firstName,p.lastName)}),e.jsx("span",{children:(N=p.schoolClass)==null?void 0:N.shortcode})]})},`user-${p.id}`)}):null})]})}),e.jsx("div",{className:f["action-items"],children:e.jsxs("button",{onClick:()=>{t()},className:l(m["action-item-d"],_?m["button-submitting"]:""),children:[e.jsx(J,{}),u==null?void 0:u.save]})})]})]})]})}function Oe({id:j,onMutateSuccess:y,setShowPopUp:M}){const{permissions:u}=re(),[q,A]=x.useState(!0),[U,b]=x.useState([]),[D,E]=x.useState(""),[Q,F]=x.useState(!1),n=Z(D,Y),a=B("component.view_exam"),t=z(),_=()=>{A(!0),setTimeout(()=>{M(!1)},X.TRANSITION_TIMING_FAST)},p=!u.has("exam_update"),N=g(s),h=O({queryKey:[w.EXAM,{id:j}],queryFn:()=>ye(j)}),T=O({queryKey:[w.ALL_TEACHER,{search:n}],queryFn:()=>W("teacher",n),enabled:!!u.has("user_view")}),I=async c=>{var R;c.preventDefault(),(R=document.querySelector(`.${s["form-data"]}`))==null||R.querySelectorAll("input[name]").forEach(d=>{var k;d.classList.remove("error"),(k=N.getParentElement(d))==null||k.removeAttribute("data-error")});const S=c.target,C=new FormData(S);U.forEach(d=>{C.append("supervisor_ids[]",String(d.id))}),await Ce(C,j),_()},i=async()=>{await be(j)},r=()=>{if(!h.data||!h.data.startedAt)return!1;const c=new Date(h.data.startedAt);return new Date().getTime()>c.getTime()},{mutate:v,isPending:L}=H({mutationFn:I,onError:c=>{N.showFormError(c)},onSuccess:y});return x.useEffect(()=>{h.data&&b(h.data.examSupervisors.map(c=>c.user))},[h.data]),x.useEffect(()=>(A(!1),()=>{t.removeQueries({queryKey:[w.EXAM,{id:j}]}),t.removeQueries({queryKey:[w.ALL_TEACHER]})}),[j,t]),e.jsxs(e.Fragment,{children:[Q===!0?e.jsx(ie,{message:(a==null?void 0:a.deleteMessage)||"",mutateFunction:i,setShowPopUp:F,onMutateSuccess:()=>{y(),_()},langYes:a==null?void 0:a.langYes,langNo:a==null?void 0:a.langNo}):null,e.jsxs("div",{className:l(s["create-view-exam-container"],q?s.hide:""),children:[h.isLoading?e.jsx($,{}):null,L?e.jsx($,{}):null,e.jsxs("div",{className:l(s["create-view-exam-form"],q?s.hide:""),children:[e.jsxs("div",{className:s.header,children:[e.jsx("h2",{className:s.title,children:a==null?void 0:a.exam}),e.jsx("div",{className:s["esc-button"],onClick:_,children:e.jsx(K,{})})]}),e.jsx("div",{className:s["form-content"],children:h.data?e.jsxs("form",{onSubmit:c=>{v(c)},className:s["form-data"],children:[e.jsxs("div",{className:s["group-inputs"],children:[e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{className:s.required,htmlFor:"name",children:a==null?void 0:a.name}),e.jsx("input",{id:"name",name:"name",defaultValue:h.data.name,disabled:p,className:l(m["input-d"],s["input-item"]),type:"text"})]}),e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{className:s.required,htmlFor:"exam_date",children:a==null?void 0:a.examDate}),e.jsx(te,{initialValue:new Date(h.data.examDate),renderMonth:ae,inputProps:{id:"exam_date",name:"exam_date",disabled:p,className:l(m["input-d"],s["input-item"])},closeOnSelect:!0,timeFormat:!0})]}),e.jsxs("div",{className:s["wrap-item"],children:[e.jsx("label",{className:s.required,htmlFor:"exam_time",children:a==null?void 0:a.examTime}),e.jsx("input",{onBeforeInput:c=>{c.data==="."&&c.preventDefault()},id:"exam_time",name:"exam_time",defaultValue:h.data.examTime,disabled:p,min:0,max:60*60*24,className:l(m["input-d"],s["input-item"]),type:"number"})]}),h.data?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s["wrap-item"],children:e.jsxs("span",{children:[a==null?void 0:a.totalQuestions,": ",h.data.questionsCount]})}),e.jsxs("div",{className:l(s["wrap-item"],s["data-container"]),children:[u.has("user_view")?e.jsx("input",{placeholder:a==null?void 0:a.search,onInput:c=>{E(c.currentTarget.value)},className:l(m["input-d"],s["input-item"]),type:"text"}):null,e.jsx("label",{children:a==null?void 0:a.supervisors}),e.jsx("ul",{className:s["joined-supervisors-container"],children:U.map((c,S)=>e.jsx("li",{className:s["joined-supervisor"],children:e.jsxs("div",{children:[e.jsx("span",{children:P.getFullName(c.firstName,c.lastName)}),e.jsx("span",{style:{height:"20px"},onClick:()=>{if(!u.has("exam_update"))return;const C=structuredClone(U);C.splice(S,1),b(C)},children:e.jsx(K,{})})]})},`joined-supervisor-${c.id}`))}),u.has("user_view")?e.jsxs(e.Fragment,{children:[e.jsx("label",{children:a==null?void 0:a.allSupervisors}),e.jsx("ul",{className:s["all-supervisor-conatiner"],children:T.data?T.data.filter(c=>!U.find(S=>S.id===c.id)).map(c=>{var S;return e.jsx("li",{onClick:()=>{const C=structuredClone(U);C.push(c),b(C)},className:l(m["dashboard-card-d"],s.card),children:e.jsxs("div",{className:s["card-left"],children:[e.jsx("span",{children:P.getFullName(c.firstName,c.lastName)}),e.jsx("span",{children:(S=c.faculty)==null?void 0:S.name})]})},`user-${c.id}`)}):null})]}):null]})]}):null]}),u.hasAnyFormList(["exam_update","exam_delete"])&&!r()?e.jsxs("div",{className:s["action-items"],children:[u.has("exam_update")&&!r()?e.jsxs("button",{name:"save",className:l(m["action-item-d"],L?m["button-submitting"]:""),children:[e.jsx(J,{}),a==null?void 0:a.save]}):null,u.has("exam_delete")&&!r()?e.jsxs("button",{type:"button",onClick:()=>{F(!0)},className:m["action-item-white-border-red-d"],children:[e.jsx(ne,{})," ",a==null?void 0:a.delete]}):null]}):null]}):null})]})]})]})}const $e="yDzxFogaIL0-",Ke="OUGot2lwBms-",Ge="YKAmrWSoSCY-",Re="aqlNb1u8N-0-",Ve="_4OSqDiXRpN0-",Ye="xE-naS7z-rs-",o={"page-content":"ClTEhZiBSz4-",header:$e,title:Ke,"form-content":"mxgD6vBYBW4-","form-data":"utZrk3J-Ivo-","group-inputs":"L30HSM08JiA-","wrap-item":"UIF-KDfy-sk-",required:Ge,"input-item":"NA-79B-ln3s-",error:Re,"custom-select":"O66rcThyrjQ-","action-items":"UrMNJMtcMSw-","edit-students-button":"_4KdUQayda7A-",pending:Ve,"enrollments-container":"yOY2x73oEfM-","exams-container":"F2nS7H2ICZE-",card:Ye,"card-content":"t7v-RUW8Q5M-","exam-card":"fglD1ctr7uw-","card-section":"ihejx7PB6ng-"};function es(){const{courseId:j}=le(),{permissions:y,appLanguage:M,appTitle:u}=re(),[q,A]=x.useState(0),[U,b]=x.useState(!1),[D,E]=x.useState(!1),[Q,F]=x.useState(!1),[n,a]=x.useState(!1),t=B("page.course"),[_,p]=x.useState(""),N=Z(_,Y),h=z(),T=me(),I=g(o),i=!y.has("course_update"),r=O({queryKey:[w.PAGE_COURSE,{id:j}],queryFn:()=>Ne(String(j)),enabled:y.has("course_view")}),v=O({queryKey:[w.AUTO_COMPLETE_SUBJECT,{search:N}],queryFn:()=>ue("teacher",N),enabled:!!N}),L=async d=>{var G;d.preventDefault(),(G=document.querySelector(`.${o["form-data"]}`))==null||G.querySelectorAll("input[name]").forEach(ce=>{var se;const ee=ce;ee.classList.remove("error"),(se=I.getParentElement(ee))==null||se.removeAttribute("data-error")});const k=d.target,V=new FormData(k);r.data&&await fe(V,r.data.id)},{mutate:c,isPending:S}=H({mutationFn:L,onError:d=>{I.showFormError(d)},onSuccess:()=>{r.refetch()}}),C=async()=>{await ve(String(j))},R=()=>{[w.PAGE_COURSES,w.PAGE_DASHBOARD].forEach(d=>{h.refetchQueries({queryKey:[d]})}),T("/semesters")};return x.useEffect(()=>()=>{h.removeQueries({queryKey:[w.PAGE_COURSE,{id:j}]})},[j,h]),x.useEffect(()=>{r.data&&u.setAppTitle(r.data.name)},[u,r.data]),y.has("course_view")?e.jsxs(e.Fragment,{children:[U?e.jsx(Oe,{id:q,setShowPopUp:b,onMutateSuccess:()=>{r.refetch()}}):null,Q&&r.data?e.jsx(ke,{courseDetail:r.data,setShowPopUp:F,onMutateSuccess:()=>{r.refetch()}}):null,n&&r.data?e.jsx(Pe,{courseDetail:r.data,setShowPopUp:a,onMutateSuccess:()=>{r.refetch()}}):null,D===!0?e.jsx(ie,{message:(t==null?void 0:t.deleteMessage)||"",mutateFunction:C,setShowPopUp:E,onMutateSuccess:R,langYes:t==null?void 0:t.langYes,langNo:t==null?void 0:t.langNo}):null,e.jsxs("main",{className:l(m["dashboard-d"],o["page-content"]),children:[r.isLoading?e.jsx($,{}):null,r.data?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:o["form-content"],children:[e.jsx("div",{className:o.header,children:e.jsx("h2",{className:o.title,children:r.data.name})}),e.jsxs("form",{onSubmit:d=>{c(d)},onInput:d=>{I.handleOnInput(d)},className:o["form-data"],children:[e.jsx("input",{name:"is_active",defaultValue:"1",hidden:!0}),e.jsxs("div",{className:o["group-inputs"],children:[e.jsxs("div",{className:o["wrap-item"],children:[e.jsx("label",{className:o.required,htmlFor:"shortcode",children:t==null?void 0:t.shortcode}),e.jsx("input",{id:"shortcode",disabled:i,defaultValue:r.data.shortcode,name:"shortcode",className:l(m["input-d"],o["input-item"]),type:"text"})]}),e.jsxs("div",{className:o["wrap-item"],children:[e.jsx("label",{className:o.required,htmlFor:"name",children:t==null?void 0:t.name}),e.jsx("input",{id:"name",disabled:i,defaultValue:r.data.name,name:"name",className:l(m["input-d"],o["input-item"]),type:"text"})]}),e.jsxs("div",{className:o["wrap-item"],children:[e.jsx("label",{className:o.required,htmlFor:"teacher_id",children:t==null?void 0:t.teacher}),e.jsx(Ee,{name:"teacher_id",onInput:d=>{p(d.currentTarget.value)},disabled:i,defaultOption:{label:P.getFullName(r.data.teacher.firstName,r.data.teacher.lastName),value:r.data?String(r.data.teacherId):""},options:v.data?v.data.map(d=>({label:P.getFullName(d.firstName,d.lastName),value:String(d.id)})):[],className:o["custom-select"]})]}),e.jsxs("div",{className:o["wrap-item"],children:[e.jsx("label",{className:o.required,children:t==null?void 0:t.subject}),e.jsx("input",{disabled:!0,defaultValue:r.data.subject.name,className:l(m["input-d"],o["input-item"]),type:"text"})]})]}),y.hasAnyFormList(["course_update","course_delete"])?e.jsxs("div",{className:o["action-items"],children:[y.has("course_update")?e.jsxs("button",{name:"save",className:l(m["action-item-d"],S?m["button-submitting"]:""),children:[e.jsx(J,{}),t==null?void 0:t.save]}):null,y.has("course_delete")?e.jsxs("button",{type:"button",onClick:()=>{E(!0)},className:m["action-item-white-border-red-d"],children:[e.jsx(ne,{})," ",t==null?void 0:t.delete]}):null]}):null]})]}),e.jsxs("section",{children:[e.jsx("div",{className:o.header,children:e.jsx("h2",{className:o.title,children:t==null?void 0:t.studentList})}),y.has("course_update")?e.jsx("div",{className:m["action-bar-d"],style:{paddingLeft:"20px"},children:e.jsxs("button",{className:l(m["action-item-d"],o["edit-students-button"]),onClick:()=>{F(!0)},children:[e.jsx(he,{}),e.jsx("span",{children:t==null?void 0:t.edit})]})}):null,e.jsx("div",{className:o["enrollments-container"],children:r.data.enrollments.map(d=>{var G;const k=P.getFullName(d.user.firstName,d.user.lastName),V=(G=d.user.schoolClass)==null?void 0:G.shortcode;return e.jsx("div",{title:[k,V].join(" "),className:l(m["dashboard-card-d"],o.card),children:e.jsx("div",{className:o["card-content"],children:[k,`(${V})`].join(" ")})},`enrollment-${d.id}`)})})]}),e.jsx("div",{className:o.header,children:e.jsx("h2",{className:o.title,children:t==null?void 0:t.examtList})}),y.has("exam_create")?e.jsx("div",{className:"action-bar-d",style:{paddingLeft:"20px"},children:e.jsxs("button",{className:m["action-item-d"],onClick:()=>{a(!0)},children:[e.jsx(xe,{})," ",t==null?void 0:t.add]})}):null,e.jsx("div",{className:o["exams-container"],children:r.data.exams.map(d=>e.jsxs("div",{title:d.name,onClick:()=>{A(d.id),b(!0)},className:l(m["dashboard-card-d"],o["exam-card"]),children:[e.jsx("div",{className:o["card-section"],children:e.jsx("p",{children:d.name})}),e.jsx("div",{className:o["card-section"],children:new Date(d.examDate).toLocaleString(M.language)}),e.jsx("div",{className:o["card-section"],children:[t==null?void 0:t.minutes.replace("@number",String(d.examTime)),t==null?void 0:t.numberOfQuesions.replace("@number",String(d.questionsCount))].join(" ")})]},`exam-${d.id}`))})]}):null]})]}):e.jsx(pe,{to:"/"})}export{es as default};
